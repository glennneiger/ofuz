<!doctype html>
<html>
    <head>
        <meta charset="utf-8"/>
        <title>Markedown Test</title>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="highlight-js/styles/github.css">
        <script src="highlight-js/highlight.pack.js"></script>
        <script src="markdown-it/dist/markdown-it.js"></script>
    </head>
    <body>
        <div class="container">
            <textarea name="comments" id="comments" rows="10" cols="100"></textarea><br />
            <input type="button" name="clickbtn" id="clickbtn" value="Click" onclick="processMarkdown();" />
        </div>
        <div class="container" id="content"></div>
        <script>
            var md = window.markdownit({
              highlight: function (str, lang) {
                if (lang && hljs.getLanguage(lang)) {
                  try {
                    return hljs.highlight(lang, str).value;
                  } catch (__) {}
                }

                return ''; // use external default escaping
              }
            });

            function processMarkdown(){
                var str = document.getElementById('comments').value;
                var result = md.render(str);
                document.getElementById('content').innerHTML = result;
            }
        </script>
    </body>
</html>

